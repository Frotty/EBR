package GameInit
import PlayerData
import Entity
import UnitProducer
import Escaper
import RegionData
import PickSystem
import Builder
import Door
import TerrainModder
import Executer
import Trap
import Texter
import Bombertower
import Bomber
import Startmazes
import EntityManagement
import Pointer
import Weapon
import BossSpellTarget
import FileIO
import Invisible
import Boss
import GlobalShop
import Remove
import BasicSpells
function initGame()

	printLog("Starting Init", Loglevel.DEBUG)
	VolumeGroupReset()
	EndThematicMusic()
	printLog("Init - Music", Loglevel.DEBUG)
	init_TerrainModder()
	printLog("Init - TMod", Loglevel.DEBUG)
	init_UnitProducer()
	printLog("Init - UP", Loglevel.DEBUG)
	init_Regions()
	printLog("Init - Regions", Loglevel.DEBUG)
	
	printLog("Init - SetTeleports", Loglevel.DEBUG)
	init_Choose()
	printLog("Init - Choose", Loglevel.DEBUG)
	init_Builder()
	printLog("Init - Builder", Loglevel.DEBUG)
	init_Trap()
	printLog("Init - Trap", Loglevel.DEBUG)
	init_Door()
	printLog("Init - Door", Loglevel.DEBUG)
	init_Texter()
	printLog("Init - Txter", Loglevel.DEBUG)
	init_Bombertower()
	printLog("Init - BTower", Loglevel.DEBUG)
	init_Bomber()
	printLog("Init - Bomber", Loglevel.DEBUG)
	printLog("Init - Reinc", Loglevel.DEBUG)
	init_Pointer()
	printLog("Init - Pointer", Loglevel.DEBUG)
	init_Weapon()
	printLog("Init - Weapon", Loglevel.DEBUG)
	init_BossSpellTarget()
	printLog("Init - Bossspelltarget", Loglevel.DEBUG)
	init_Boss()
	printLog("Init - Boss", Loglevel.DEBUG)
	init_GlobalShop()
	printLog("Init - Shop", Loglevel.DEBUG)
	invis_init()
	init_remove()
	getTimer().start(0.01, function initPartTwo)
	
function initPartTwo()
	initBaseObjects()
	printLog("Init - BObj", Loglevel.DEBUG)
	printLog("Init - Startmazes", Loglevel.DEBUG)
	CreateFogModifierRect(Player(11), FOG_OF_WAR_VISIBLE, GetPlayableMapRect(), true, false)

	//initMazeUnits(rand, rand)
	printLog("Init - Startmazes2", Loglevel.DEBUG)		
	
	printLog("Init - Finished", Loglevel.DEBUG)
	startChoose()
	printLog("Starting choose...", Loglevel.DEBUG)
	initSpells()
	printLog(File.isEnabled().toString(), Loglevel.INFO)
	GetExpiredTimer().release()

init
	callGen()
	printLog("wc3init a", Loglevel.DEBUG)
	VolumeGroupReset()
	EndThematicMusic()
	startEntityLoop()
	trigger t = CreateTrigger()
	TriggerRegisterTimerEvent( t, .01, false )
	TriggerAddAction( t, function initGame )
	
@compiletime function callGen()
	callFunctionsWithAnnotation("@objectgen")
