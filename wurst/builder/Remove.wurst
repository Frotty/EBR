package Remove
import Entity
import Assets

public constant REMOVE_ID = 'A00K'

function onRemoveObject()
	var id = GetSpellAbilityId()
	if id == REMOVE_ID
		var u = GetTriggerUnit()
		var data = u.getUserData()
		if data > 0
			var e = data castTo Entity
			addEffect(Other.aiamtarget, u.getPos()).destr()
			e.terminate()
		else
			GetSpellAbilityUnit().remove()
	
@init1 function init_remove()
	EventListener.add(EVENT_PLAYER_UNIT_SPELL_CAST, () -> onRemoveObject())
