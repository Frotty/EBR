package Remove
import Entity

public constant int REMOVE_ID = 'A00K'
trigger castTrig

function removeObject()
	var id = GetSpellAbilityId()
	if id == REMOVE_ID
		var data = GetTriggerUnit().getUserData()
		if data > 0
			var e = data castTo Entity
			AddSpecialEffect("Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl" , e.pos.x, e.pos.y)
			e.terminate()
		else
			GetSpellAbilityUnit().remove()

init
	castTrig = CreateTrigger()
	castTrig.registerAnyUnitEvent(EVENT_PLAYER_UNIT_SPELL_CAST)
	castTrig.addAction(function removeObject)